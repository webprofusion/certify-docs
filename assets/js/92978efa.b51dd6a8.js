"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4100],{79425:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"guides/apache-nginx","title":"Using with Apache, nginx or Other Web Servers","description":"The app is primarily designed for use with the IIS web server on Windows but it can also be used to acquire and automatically renew certificate for Apache and nginx etc, with a \\"standalone\\" mode, or alternatively using the \\"webroot\\" method.","source":"@site/docs/guides/apache-nginx.md","sourceDirName":"guides","slug":"/guides/apache-nginx","permalink":"/docs/guides/apache-nginx","draft":false,"unlisted":false,"editUrl":"https://github.com/webprofusion/certify-docs/edit/master/docs/guides/apache-nginx.md","tags":[],"version":"current","frontMatter":{"id":"apache-nginx","title":"Using with Apache, nginx or Other Web Servers"},"sidebar":"commonDocsSidebar","previous":{"title":"Scripting","permalink":"/docs/script-hooks"},"next":{"title":"Import & Export","permalink":"/docs/guides/import-export"}}');var i=n(74848),o=n(28453);const s={id:"apache-nginx",title:"Using with Apache, nginx or Other Web Servers"},a="Getting a Certificate for your Web Server (Apache/nginx etc)",c={},h=[];function l(e){const t={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:'The app is primarily designed for use with the IIS web server on Windows but it can also be used to acquire and automatically renew certificate for Apache and nginx etc, with a "standalone" mode, or alternatively using the "webroot" method.'}),"\n",(0,i.jsx)(t.p,{children:"Our standard IIS integration can automatically configure IIS sites, but for Apache or nginx etc. you will need to edit your web server configuration manually to use the certificate files the app produces."}),"\n",(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"getting-a-certificate-for-your-web-server-apachenginx-etc",children:"Getting a Certificate for your Web Server (Apache/nginx etc)"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"If using the standalone http validation, make sure nothing is currently using port 80 (e.g. Apache, nginx)"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Use ",(0,i.jsx)(t.em,{children:"New Certificate"})," to setup a new managed certificate, add your domains, click ",(0,i.jsx)(t.em,{children:"Request Certificate"})," to try getting a cert. See ",(0,i.jsx)(t.a,{href:"/docs/certificate-process",children:"Requesting a Certificate"})," for more information - If that all works proceed to deployment."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:'To alternatively use a "webroot" method (serving the http challenge via apache/nginx instead of using the http challenge server built into the client):'}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["set an output path for the challenge response files pointing to the root structure of your site, under ",(0,i.jsx)(t.em,{children:"Authorization > Http > Site Root Directory"}),". Ensure that extensionless text files written into ",(0,i.jsx)(t.code,{children:"/.well-known/acme-challenge/"})," can be browsed to over http."]}),"\n",(0,i.jsx)(t.li,{children:"You can use \"Test' to check if challenges are being served ok."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"If you cannot use HTTP validation (or you require a wildcard certificate) you can use the DNS validation method instead."}),"\n",(0,i.jsx)(t.h1,{id:"deployment-to-your-web-server-apachenginx-etc",children:"Deployment to your Web Server (Apache/nginx etc)"}),"\n",(0,i.jsxs)(t.p,{children:["Once you have your cert you can use a deployment task to place the cert files where you want them (e.g. ",(0,i.jsx)(t.code,{children:"C:\\certs\\<yourwebsite>\\"}),") and restart your web server service."]}),"\n",(0,i.jsxs)(t.p,{children:["For Apache, use the ",(0,i.jsx)(t.a,{href:"/docs/deployment/tasks/apache",children:"Deploy to Apache"})," task to export your certificate and the components you choose as a set of PEM format files."]}),"\n",(0,i.jsxs)(t.p,{children:["For nginx, use the ",(0,i.jsx)(t.a,{href:"/docs/deployment/tasks/nginx",children:"Deploy to nginx"})," task to export your certificate and the components you choose as a set of PEM format files."]}),"\n",(0,i.jsxs)(t.p,{children:["For other similar web server types that require PEM output certificate files, use the ",(0,i.jsx)(t.em,{children:"Deploy to Generic Server"})," task to export your certificate and the components you choose as a set of PEM format files."]}),"\n",(0,i.jsx)(t.p,{children:"The above tasks also support deployment over SSH if your service is remote to the machine being used to acquire the certificates."}),"\n",(0,i.jsx)(t.p,{children:"You normally would set the fullchain.pem path and privkey.pem path *under Task Parameters), then save and select\u25b6\ufe0fPlay next to the task to try it out. This should give you the output file you need in the location you want. You then just need to point your apache config at the right files. You can refine this task configuration and test the task without re-requesting a whole new certificate."}),"\n",(0,i.jsxs)(t.p,{children:["You would normally also need a ",(0,i.jsx)(t.em,{children:"Stop/Start/Restart"})," service task (for the service running your web server)."]}),"\n",(0,i.jsx)(t.p,{children:"Once you have these setup your subsequent renewals will be automatic."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var r=n(96540);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);