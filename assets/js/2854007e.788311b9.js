"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1062],{2360:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"dns/providers/cloudflare","title":"Cloudflare DNS","description":"Setup your DNS API credentials","source":"@site/docs/dns/providers/cloudflare.md","sourceDirName":"dns/providers","slug":"/dns/providers/cloudflare","permalink":"/docs/dns/providers/cloudflare","draft":false,"unlisted":false,"editUrl":"https://github.com/webprofusion/certify-docs/edit/master/docs/dns/providers/cloudflare.md","tags":[],"version":"current","frontMatter":{"id":"cloudflare","title":"Cloudflare DNS"}}');var l=s(74848),d=s(28453);const o={id:"cloudflare",title:"Cloudflare DNS"},t=void 0,i={},c=[{value:"Setup your DNS API credentials",id:"setup-your-dns-api-credentials",level:2},{value:"Setup using an API Token",id:"setup-using-an-api-token",level:3},{value:"Setup using a Global Auth Key",id:"setup-using-a-global-auth-key",level:3},{value:"Add New Stored Credential",id:"add-new-stored-credential",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"setup-your-dns-api-credentials",children:"Setup your DNS API credentials"}),"\n",(0,l.jsx)(n.p,{children:"To use the Cloudflare DNS API, you need to either setup your API Token or use a Global Auth Key:"}),"\n",(0,l.jsx)(n.h3,{id:"setup-using-an-api-token",children:"Setup using an API Token"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Sign in to: ",(0,l.jsx)(n.a,{href:"https://dash.cloudflare.com/profile/api-tokens",children:"https://dash.cloudflare.com/profile/api-tokens"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click on ",(0,l.jsx)(n.code,{children:"Create Token"})," and enter a friendly name for this token such as ",(0,l.jsx)(n.code,{children:"Certify API access"})]}),"\n",(0,l.jsxs)(n.li,{children:["Add permissions required to access and update your DNS zones:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Add ",(0,l.jsx)(n.code,{children:"Zone > Zone > Read"})]}),"\n",(0,l.jsxs)(n.li,{children:["Add ",(0,l.jsx)(n.code,{children:"Zone > DNS > Edit"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Under Zone Resources, select:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Include > All zones"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Update key and copy/store the API Token locally."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"setup-using-a-global-auth-key",children:"Setup using a Global Auth Key"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Sign in to: ",(0,l.jsx)(n.a,{href:"https://www.cloudflare.com/dns/",children:"https://www.cloudflare.com/dns/"})]}),"\n",(0,l.jsx)(n.li,{children:"Under your Domain Summary, copy down your Zone Id, you will need this later."}),"\n",(0,l.jsx)(n.li,{children:"Select Get your API Key, which will take your to 'My Profile'"}),"\n",(0,l.jsx)(n.li,{children:"Under API Keys, select Global API Key"}),"\n",(0,l.jsx)(n.li,{children:"Copy down the API Key."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"add-new-stored-credential",children:"Add New Stored Credential"}),"\n",(0,l.jsx)(n.p,{children:"Now add a new Stored Credential under Settings in Certify, choosing Cloudflare DNS as the provider type, enter:"}),"\n",(0,l.jsx)(n.p,{children:"Either:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Your Cloudflare API Token"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"or:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Account Email Address"}),"\n",(0,l.jsx)(n.li,{children:"Your Auth Key"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Then select Save. You can then Test your credentials. If you get a message saying ",(0,l.jsx)(n.code,{children:"No Zones returned"})," your API Token does not have the required permissions and you need to update it."]}),"\n",(0,l.jsx)(n.p,{children:"When using the credential as part of DNS validation in the app you will also be prompted to select the Zone Id, to ensure updates apply to the correct domain."})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var r=s(96540);const l={},d=r.createContext(l);function o(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);