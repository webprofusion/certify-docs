<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-kb/kb-202109-letsencrypt" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Let&#x27;s Encrypt DST Root CA X3 expiry Sept 30th 2021 | Certify The Web Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.certifytheweb.com/docs/kb/kb-202109-letsencrypt"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Let&#x27;s Encrypt DST Root CA X3 expiry Sept 30th 2021 | Certify The Web Docs"><meta data-rh="true" name="description" content="Certificate trust mainly relies on the &quot;root&quot; issuing certificate (and intermediate certificates) being trusted by your computer."><meta data-rh="true" property="og:description" content="Certificate trust mainly relies on the &quot;root&quot; issuing certificate (and intermediate certificates) being trusted by your computer."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.certifytheweb.com/docs/kb/kb-202109-letsencrypt"><link data-rh="true" rel="alternate" href="https://docs.certifytheweb.com/docs/kb/kb-202109-letsencrypt" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.certifytheweb.com/docs/kb/kb-202109-letsencrypt" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YX7T7PF7BX-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Certify The Web Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Certify The Web Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RLGYG5TYY5"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RLGYG5TYY5",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Certify The Web Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.59a313f4.css">
<script src="/assets/js/runtime~main.92b6423b.js" defer="defer"></script>
<script src="/assets/js/main.f081303f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Certify The Web Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Certify The Web Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Certify The Web - Docs</b></a><a class="navbar__item navbar__link" href="/docs/intro">Certificate Manager</a><a class="navbar__item navbar__link" href="/docs/hub/">Management Hub</a><a class="navbar__item navbar__link" href="/docs/dashboard/">Dashboard</a><a class="navbar__item navbar__link" href="/docs/dns/providers/certifydns/">Certify DNS</a><a class="navbar__item navbar__link" href="/docs/features">Features</a><a class="navbar__item navbar__link" href="/docs/support">Support</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://community.certifytheweb.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://certifytheweb.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">certifytheweb.com<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Summary</h1></header>
<p>Certificate trust mainly relies on the &quot;root&quot; issuing certificate (and intermediate certificates) being trusted by your computer.</p>
<p>The root certificate issues an Intermediate certificate which in turn is used to issue general certificates such as the ones for your website. This is called a &quot;Chain&quot; of trust. Your certificate (called a Leaf or end-entity certificate) will be validated by following this chain.</p>
<p><em>From Sept 30th 2021 Let&#x27;s Encrypts previous root certificate <em>DST Root CA X3</em> (and it&#x27;s R3 intermediate) will expire. It has been replaced by their <em>ISRG Root X1</em> certificate (and replacement R3 intermediate).</em></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><strong>In most cases, your systems will automatically switch over to the next trusted chain they can find.</strong></p></div></div>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Lean More About <em>Certify Certificate Manager</em></div><div class="admonitionContent_BuS1"><p><em>Certify Certificate Manager</em> is the most popular desktop UI for ACME certificate management and includes commercial support via email to our helpdesk. Find out more at  <a href="https://certifytheweb.com" target="_blank" rel="noopener noreferrer">https://certifytheweb.com</a></p><p>The guidance in this article is aimed at all Windows users with Let&#x27;s Encrypt related issues, for any ACME client.</p></div></div>
<h1>Possible issues</h1>
<p>The version of the <em>R3</em> intermediate signing certificate which chains to <em>DST Root CA X3</em> expired <strong>September 29 19:21:40 2021 GMT.</strong></p>
<p>The <em>DST Root CA X3</em> root certificate expired <strong>September 30 14:01:15 2021 GMT</strong>.</p>
<ul>
<li>In some cases, the expiry of the root (and its related expiring R3 intermediate certificate) may causes certificates to be considered untrusted or invalid. To fix this you need to make your server use (serve) the correct chain.</li>
<li>In other cases, the issue may be with the client computer.</li>
<li>Some app renewals will fail with <em>too many certificates (5) already issued for this exact set of domains in the last 168 hours</em>. See solution below.</li>
<li>If you have clients complaining about some android devices not working with their websites, you may need to migrate to a different Certificate Authority (see below).</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>CA Migration Recommended On Windows if you need to support old devices</div><div class="admonitionContent_BuS1"><p>In testing we have confirmed that when <code>DST Root CA X3</code> expires, although Windows can initially serve the legacy chain intended for Android compatibility, it will revert to the modern chain automatically when it notices <code>DST Root CA X3</code> has expired, if <code>ISRG Root X1 (self signed)</code> is also present in the trust store. A <a href="#switching-to-chain-2-legacy">workaround is available</a></p><p>This means Windows services like IIS generally will not continue to serve content to older operating systems which don&#x27;t trust <code>ISRG Root X1</code>. If you require legacy support without workarounds, you should change <a href="/docs/guides/certificate-authorities">Certificate Authority</a>.</p></div></div>
<h1>Solutions</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="servers">Servers<a href="#servers" class="hash-link" aria-label="Direct link to Servers" title="Direct link to Servers" translate="no">​</a></h2>
<p>The following solutions mainly apply to Windows servers running IIS or other windows based services which use the windows trust store. Unless otherwise noted they are not specific to using <em>Certify Certificate Manager</em>. Apache, nginx etc have their own trust mechanisms :</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="certify-the-web---certify-certificate-manager-renewal-failures">Certify The Web - <em>Certify Certificate Manager</em> renewal failures<a href="#certify-the-web---certify-certificate-manager-renewal-failures" class="hash-link" aria-label="Direct link to certify-the-web---certify-certificate-manager-renewal-failures" title="Direct link to certify-the-web---certify-certificate-manager-renewal-failures" translate="no">​</a></h3>
<p>If you are using <em>Certify Certificate Manager</em> and see the error ** Error creating new order :: too many certificates (5) already issued for this exact set of domains in the last 168 hours** ensure you have installed the latest version of <em>Certify Certificate Manager</em> and wait 1 week for the error to clear.</p>
<p><strong>As your server has repeatedly attempted to order a certificate and failed you will need to wait 1 week for the Let&#x27;s Encrypt rate limit to reset for this certificate</strong>, then renewals will automatically resume as normal, as long as you now have the ISRG Root X1 certificate installed. Root certificate updates are a normal part of automatic windows updates, so you should ideally review why your server is not receiving these.</p>
<p>Alternatively you could change Certificate Authority if this is an urgent renewal, <em>Certify Certificate Manager</em> supports several public certificate authorities: <a href="https://docs.certifytheweb.com/docs/guides/certificate-authorities" target="_blank" rel="noopener noreferrer">https://docs.certifytheweb.com/docs/guides/certificate-authorities</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="servers-with-problems-after-expiry">Servers with problems after expiry<a href="#servers-with-problems-after-expiry" class="hash-link" aria-label="Direct link to Servers with problems after expiry" title="Direct link to Servers with problems after expiry" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Check Your Chain</div><div class="admonitionContent_BuS1"><p>1 - To diagnose a chain issue for your server, scan one of your webservers domains with a <a href="#chain-checking">chain checker</a></p><p>2 - If your chain contains the expired R3 after it&#x27;s expiry, reboot your server to clear cached chains.</p><p>3 - If the chain issue persists, re-request your certificate in the app to force a binding refresh or choose <code>Certificate &gt; Advanced &gt; Actions &gt; Re-apply Certificate To Bindings</code>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-fixes-and-how-to-switch-chain-before-or-after-expiry">Server fixes and how to switch chain before (or after) expiry<a href="#server-fixes-and-how-to-switch-chain-before-or-after-expiry" class="hash-link" aria-label="Direct link to Server fixes and how to switch chain before (or after) expiry" title="Direct link to Server fixes and how to switch chain before (or after) expiry" translate="no">​</a></h3>
<p>We recommend the following steps to initially correct your servers certificate chain:</p>
<ol>
<li>Install the latest version of <em>Certify Certificate Manager</em> from <a href="https://certifytheweb.com" target="_blank" rel="noopener noreferrer">https://certifytheweb.com</a> or use the in-app update process. Even if you are not using this app currently, the upgrade will automatically fix common trust store issues (and it can then be uninstalled if not being used).</li>
<li><strong>Reboot your server</strong> (this forces windows to re-evaluate the served certificate chains). You may be able to avoid this reboot by using <code>iisreset /restart</code> to just restart IIS.</li>
<li>Check your certificate chain with a <a href="#chain-checking">chain checker</a></li>
<li>In some cases you may need to refresh your IIS bindings, the easiest method is to click &#x27;Request Certificate&#x27; to change certificate and update bindings.</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Valid Chains</div><div class="admonitionContent_BuS1"><p>The default chain served by Windows (depending on the state of your server trust store) will be either:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="chain-1-modern--your-cert--r3--isrg-root-x1"><strong>Chain 1 (modern)</strong> : (your cert) &gt; R3 &gt; ISRG Root X1<a href="#chain-1-modern--your-cert--r3--isrg-root-x1" class="hash-link" aria-label="Direct link to chain-1-modern--your-cert--r3--isrg-root-x1" title="Direct link to chain-1-modern--your-cert--r3--isrg-root-x1" translate="no">​</a></h4><p>This chain is supported by current operating systems</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="chain-2-legacy--your-cert--r3--isrg-root-x1--dst-root-ca-x3"><strong>Chain 2 (legacy)</strong> : (your cert) &gt; R3 &gt; ISRG Root X1 &gt; DST Root CA X3<a href="#chain-2-legacy--your-cert--r3--isrg-root-x1--dst-root-ca-x3" class="hash-link" aria-label="Direct link to chain-2-legacy--your-cert--r3--isrg-root-x1--dst-root-ca-x3" title="Direct link to chain-2-legacy--your-cert--r3--isrg-root-x1--dst-root-ca-x3" translate="no">​</a></h4><p>This chain is ideal if you need broader compatibility with older operating systems, including Android 7.1 and lower. This chain is <a href="#switching-to-chain-2-legacy">difficult to support on Windows</a></p></div></div>
<p>For IIS etc, you can only serve one of these chains per Windows server (machine), not a combination per site etc. The default trust store maintenance in the app will provide the <em>modern</em> chain. If you need the legacy chain you may still need import the cross signed ISRG Root X1 (see <em>Switching to Chain 2</em>, below) unless it was already installed.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>If your chain is still: (your cert) &gt; R3 &gt; DST Root CA X3</div><div class="admonitionContent_BuS1"><p>If you still see this old chain after the DST Root CA X3 expiry (after updating <em>Certify Certificate Manager</em> and after rebooting), then you need to resolve this urgently. At a minimum you must ensure ISRG Root X1 (Self signed) is installed under your machine Trusted Certification Authorities using certlm.msc and remove the R3 issued by DST Root CA X3 from Intermediate Certification Authorities. See the <a href="#further-troubleshooting">further troubleshooting</a> section below.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switching-to-chain-1-modern">Switching to Chain 1 (modern)<a href="#switching-to-chain-1-modern" class="hash-link" aria-label="Direct link to Switching to Chain 1 (modern)" title="Direct link to Switching to Chain 1 (modern)" translate="no">​</a></h3>
<p>If you are serving the <em>ISRG Root X1 &gt; DST Root CA X3 (self signed)</em> chain and want to switch to just the <em>ISRG Root X1</em> chain:</p>
<ul>
<li>remove the cross signed version of the ISRG Root X1 (issued by DST Root CA X3) from your machine trust store.</li>
<li>You may need to reboot to see the effect.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switching-to-chain-2-legacy">Switching to Chain 2 (legacy)<a href="#switching-to-chain-2-legacy" class="hash-link" aria-label="Direct link to Switching to Chain 2 (legacy)" title="Direct link to Switching to Chain 2 (legacy)" translate="no">​</a></h3>
<p>If you require compatibility with old versions of Android and other devices that don&#x27;t know about <em>ISRG Root X1</em>, you need to serve <strong>Chain 2</strong>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Caution - Workaround</div><div class="admonitionContent_BuS1"><p>A previously proposed workaround was to move <code>ISRG Root X1 (self signed)</code> to the <code>Untrusted</code> store in order to serve the legacy <code>DST Root CA X3</code> chain. This has unintended side effects (your server cannot validate https connections against services such as the Let&#x27;s Encrypt API).</p><p>Servers which do not yet trust <code>ISRG Root X1 (self signed)</code> will be serving the legacy chain but will automatically switch when their trust store updates.</p><p>Instead, if you require this chain for compatibility, either use a proxy (Caddy, nginx, Apache) in front of IIS and use the proxy to terminate TLS.</p><p>If no other solution works or for any other reason you cannot update client trusts stores etc or require other broader compatibility, you may need to consider moving your certificate to a new Certificate Authority.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="non-iis-servers-apache-nginx-etc-on-windows-or-linux">Non-IIS servers (Apache, nginx etc on Windows or Linux)<a href="#non-iis-servers-apache-nginx-etc-on-windows-or-linux" class="hash-link" aria-label="Direct link to Non-IIS servers (Apache, nginx etc on Windows or Linux)" title="Direct link to Non-IIS servers (Apache, nginx etc on Windows or Linux)" translate="no">​</a></h2>
<p>Verify that your service is configured to use your certificate, with it&#x27;s private key <em>and</em> it&#x27;s <strong>chain</strong>. These services will work without pointing to a chain file but in the case of the expired R3 your clients will try to resolve the R3 themselves (because you haven&#x27;t given it to them) and they may then resolve it to the old (expired) one.</p>
<p>We have seen reports of issues with old iOS versions when using IIS as a front end reverse proxied to node (for NextJS etc). This is an unrelated issue to do with http headers: <a href="https://stackoverflow.com/questions/71037910/safari-10-fails-to-load-https-with-node-js-iisnode-spams-requests" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/71037910/safari-10-fails-to-load-https-with-node-js-iisnode-spams-requests</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clients-browsers-etc">Clients (browsers etc)<a href="#clients-browsers-etc" class="hash-link" aria-label="Direct link to Clients (browsers etc)" title="Direct link to Clients (browsers etc)" translate="no">​</a></h2>
<p>If your site is working for most devices but not for some, the problem is with their trust store (their list of trusted root certificate).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-pcs">Windows PCs<a href="#windows-pcs" class="hash-link" aria-label="Direct link to Windows PCs" title="Direct link to Windows PCs" translate="no">​</a></h3>
<p>On windows PCs, simply browsing to a website using Chrome, Edge etc with updated the client trust store with the required certificates. Browsing to <a href="https://valid-isrgrootx1.letsencrypt.org/" target="_blank" rel="noopener noreferrer">https://valid-isrgrootx1.letsencrypt.org/</a> will prompt Windows to include <em>ISRG Root X1</em> in its trust store automatically.</p>
<p>For Windows (with an outdated trust store) you can manually install ISRG Root X1:</p>
<ul>
<li>Browse to <a href="http://x1.i.lencr.org/" target="_blank" rel="noopener noreferrer">http://x1.i.lencr.org/</a> in order to download the .cer file for ISRG Root X1 (your browser may warn about the file type and you may need to click &quot;Keep&quot; to save the file).</li>
<li>Open the file, click &quot;Install Certificate..&quot;, Choose &quot;Install to Trusted Root Certificate Store&quot; option, Next, Finish</li>
<li>Reboot</li>
</ul>
<p>You should then find out why your Windows install is not updating certificate authorities automatically (the default behaviour).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="macos-ios-etc">macOS, iOS etc<a href="#macos-ios-etc" class="hash-link" aria-label="Direct link to macOS, iOS etc" title="Direct link to macOS, iOS etc" translate="no">​</a></h3>
<p>Some operating systems hold onto the expired <code>R3 &gt; DST Root CA X3</code> chain even if your server is no longer using it. Try a restart of the affected client device.</p>
<p>For older macOS not updated by Apple:</p>
<ul>
<li>Download the ISRG Root X1 certificate file from <a href="http://x1.i.lencr.org/" target="_blank" rel="noopener noreferrer">http://x1.i.lencr.org/</a></li>
<li>Open the Keychain Access app and drag that file into the System folder of that app.</li>
<li>Find the ISRG Root X1 certificate in System and double click on it, open the Trust menu and change &quot;Use System Defaults&quot; to &quot;Always Trust&quot;, then close that and enter your password to confirm the change (if prompted).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="java-based-systems-etc">Java based systems etc<a href="#java-based-systems-etc" class="hash-link" aria-label="Direct link to Java based systems etc" title="Direct link to Java based systems etc" translate="no">​</a></h2>
<p>Some applications maintain their own trust store. You may need to add the newer ISRG Root X1 certificate into your systems trusts store. Any system that can&#x27;t be updated needs to see the legacy chain or you need to switch CA.</p>
<p>e.g. for Java you might use: <code>keytool -import -alias isrgrootx1 -keystore $JAVA_HOME/jre/lib/security/cacerts -trustcacerts -file isrgrootx1.cer</code> (<a href="https://community.letsencrypt.org/t/help-thread-for-dst-root-ca-x3-expiration-september-2021/149190/258" target="_blank" rel="noopener noreferrer">credit</a>)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-application-gateway">Azure (Application Gateway)<a href="#azure-application-gateway" class="hash-link" aria-label="Direct link to Azure (Application Gateway)" title="Direct link to Azure (Application Gateway)" translate="no">​</a></h2>
<p>Ensure that the HTTP settings for back-end hosts are updated with the latest Trusted Root Certificate. Download <a href="https://letsencrypt.org/certs/isrgrootx1.pem" target="_blank" rel="noopener noreferrer">https://letsencrypt.org/certs/isrgrootx1.pem</a> (same as .cer file) and upload via the Azure Portal or via PowerShell. See <a href="https://docs.microsoft.com/en-us/azure/application-gateway/application-gateway-backend-health-troubleshooting" target="_blank" rel="noopener noreferrer">Application Gateway Troubleshooting</a> for further details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-considerations">Other considerations<a href="#other-considerations" class="hash-link" aria-label="Direct link to Other considerations" title="Direct link to Other considerations" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="export-tasks">Export Tasks<a href="#export-tasks" class="hash-link" aria-label="Direct link to Export Tasks" title="Direct link to Export Tasks" translate="no">​</a></h3>
<p>If you use Certify The Web to export certificates to pem files etc (for Apache or other servers), the chain you get in the export will correspond with the chain your server is currently building. The &quot;Preferred Issuer&quot; setting for the certificate authority will have <em>no effect</em>, because Windows is overriding the chain.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="renewals-fail-if-isrg-root-x1-not-installed">Renewals fail if ISRG Root X1 not installed<a href="#renewals-fail-if-isrg-root-x1-not-installed" class="hash-link" aria-label="Direct link to Renewals fail if ISRG Root X1 not installed" title="Direct link to Renewals fail if ISRG Root X1 not installed" translate="no">​</a></h3>
<p>If your server does not have ISRG Root X1 installed, <em>Certify Certificate Manager</em> will fail to build your certificate when it renews. The certificate order with Let&#x27;s Encrypt will succeed but the actual build and install of the PFX file will fail. <strong>You must update to the latest version</strong> or at least install the ISRG Root X1 certificate if your renewals are failing for this reason. Otherwise, you will hit the Let&#x27;s Encrypt rate limit for duplicate certificate orders and your certificate will not fully renew.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-troubleshooting">Further Troubleshooting<a href="#further-troubleshooting" class="hash-link" aria-label="Direct link to Further Troubleshooting" title="Direct link to Further Troubleshooting" translate="no">​</a></h2>
<ul>
<li>A registry method to delete the old R3 is <a href="https://gist.github.com/skusiak/83db2ba2fc1804b89151db01e97bbbec" target="_blank" rel="noopener noreferrer">documented here</a></li>
<li>If your expired chain keeps coming back, move (or install) the expired <code>R3 issued by DST Root CA X3</code> into the Untrusted store using <code>certlm.msc</code> (Manage Computer Certificates).</li>
<li>Further information and troubleshooting steps are here: <a href="https://community.certifytheweb.com/t/upcoming-expiry-of-dst-root-ca-x3-and-r3-intermediate-for-lets-encrypt/1480" target="_blank" rel="noopener noreferrer">https://community.certifytheweb.com/t/upcoming-expiry-of-dst-root-ca-x3-and-r3-intermediate-for-lets-encrypt/1480</a></li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Licensed Users can contact Certify The Web support</div><div class="admonitionContent_BuS1"><p>While the problem itself relates to and is controlled by Windows and Let&#x27;s Encrypt, licensed users can contact Certify The Web support via <code>support at certifytheweb.com</code> if they have further related questions and issues they need advice with. We are in the AEST (Australia) Time Zone. A higher than normal volume of support tickets are expected immediately up to, during and after the root expiry so please expect delays and perform as much of your own troubleshooting and research as you can.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="useful-information">Useful Information<a href="#useful-information" class="hash-link" aria-label="Direct link to Useful Information" title="Direct link to Useful Information" translate="no">​</a></h2>
<p>Visit the Let&#x27;s Encrypt support community for more information about the root expiry and chain changes: <a href="https://community.letsencrypt.org/t/production-chain-changes/150739/4" target="_blank" rel="noopener noreferrer">https://community.letsencrypt.org/t/production-chain-changes/150739/4</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chain-checking">Chain Checking<a href="#chain-checking" class="hash-link" aria-label="Direct link to Chain Checking" title="Direct link to Chain Checking" translate="no">​</a></h3>
<p>Other ways to check and diagnose chain issues:</p>
<ul>
<li>Chain Checker by Certify The Web: <a href="https://chainchecker.certifytheweb.com/" target="_blank" rel="noopener noreferrer">https://chainchecker.certifytheweb.com/</a> provides useful diagnostics for Let&#x27;s Encrypt chains.</li>
<li>Qualsys SSL Server Test: <a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="noopener noreferrer">https://www.ssllabs.com/ssltest/</a> is useful for full diagnostics of your certificate chain.</li>
<li>Namecheap SSL Checker: <a href="https://decoder.link/sslchecker/" target="_blank" rel="noopener noreferrer">https://decoder.link/sslchecker/</a></li>
<li>OpenSSL: <code>openssl s_client -connect your.domain.com:443 -servername  your.domain.com</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further Reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further Reading" title="Direct link to Further Reading" translate="no">​</a></h3>
<p>The Windows certificate chaining engine: <a href="https://social.technet.microsoft.com/wiki/contents/articles/3147.pki-certificate-chaining-engine-cce.aspx" target="_blank" rel="noopener noreferrer">https://social.technet.microsoft.com/wiki/contents/articles/3147.pki-certificate-chaining-engine-cce.aspx</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/webprofusion/certify-docs/edit/master/docs/kb/202109-letsencrypt.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#servers" class="table-of-contents__link toc-highlight">Servers</a><ul><li><a href="#certify-the-web---certify-certificate-manager-renewal-failures" class="table-of-contents__link toc-highlight">Certify The Web - <em>Certify Certificate Manager</em> renewal failures</a></li><li><a href="#servers-with-problems-after-expiry" class="table-of-contents__link toc-highlight">Servers with problems after expiry</a></li><li><a href="#server-fixes-and-how-to-switch-chain-before-or-after-expiry" class="table-of-contents__link toc-highlight">Server fixes and how to switch chain before (or after) expiry</a></li><li><a href="#switching-to-chain-1-modern" class="table-of-contents__link toc-highlight">Switching to Chain 1 (modern)</a></li><li><a href="#switching-to-chain-2-legacy" class="table-of-contents__link toc-highlight">Switching to Chain 2 (legacy)</a></li></ul></li><li><a href="#non-iis-servers-apache-nginx-etc-on-windows-or-linux" class="table-of-contents__link toc-highlight">Non-IIS servers (Apache, nginx etc on Windows or Linux)</a></li><li><a href="#clients-browsers-etc" class="table-of-contents__link toc-highlight">Clients (browsers etc)</a><ul><li><a href="#windows-pcs" class="table-of-contents__link toc-highlight">Windows PCs</a></li><li><a href="#macos-ios-etc" class="table-of-contents__link toc-highlight">macOS, iOS etc</a></li></ul></li><li><a href="#java-based-systems-etc" class="table-of-contents__link toc-highlight">Java based systems etc</a></li><li><a href="#azure-application-gateway" class="table-of-contents__link toc-highlight">Azure (Application Gateway)</a></li><li><a href="#other-considerations" class="table-of-contents__link toc-highlight">Other considerations</a><ul><li><a href="#export-tasks" class="table-of-contents__link toc-highlight">Export Tasks</a></li><li><a href="#renewals-fail-if-isrg-root-x1-not-installed" class="table-of-contents__link toc-highlight">Renewals fail if ISRG Root X1 not installed</a></li></ul></li><li><a href="#further-troubleshooting" class="table-of-contents__link toc-highlight">Further Troubleshooting</a></li><li><a href="#useful-information" class="table-of-contents__link toc-highlight">Useful Information</a><ul><li><a href="#chain-checking" class="table-of-contents__link toc-highlight">Chain Checking</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Certify Certificate Manager</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dashboard">Certify Dashboard</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dns/providers/certifydns">Certify DNS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/features">Features</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/support">Support</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.certifytheweb.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/webprofusion/certify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://certifytheweb.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">certifytheweb.com<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/webprofusion/certify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/certifytheweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">X.com<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Webprofusion Pty Ltd. Docs Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>